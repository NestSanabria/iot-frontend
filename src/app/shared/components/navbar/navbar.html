<!-- src/app/shared/components/navbar/navbar.html -->

<ng-container *ngIf="!(hideNavbar$ | async)">
  <ng-container *ngIf="userData$ | async as user">

    <nav class="navbar"
         role="navigation"
         [class.collapsed]="isCollapsed"
         (mouseenter)="onMouseEnter()"
         (mouseleave)="onMouseLeave()"
         aria-label="Barra de navegaci√≥n principal">

      <!-- Secci√≥n central -->
      <section class="navbar-center">
        <ng-container *ngIf="user.role_id === '01'">
          <header class="admin-navbar">
            <h2 class="admin-title" aria-live="polite">{{ displayTitle }}</h2>
          </header>
        </ng-container>

        <ng-container *ngIf="user.role_id === '02'">
          <ul class="nav-list">
            <li><a routerLink="/tecnico/dashboard" routerLinkActive="active">Dashboard T√©cnico</a></li>
          </ul>
        </ng-container>

        <ng-container *ngIf="user.role_id === '03'">
          <ul class="nav-list">
            <li><a routerLink="/analista/dashboard" routerLinkActive="active">Dashboard Analista</a></li>
          </ul>
        </ng-container>

        <ng-container *ngIf="user.role_id === '04'">
          <ul class="nav-list">
            <li><a routerLink="/usuario/dashboard" routerLinkActive="active">Mi Panel</a></li>
          </ul>
        </ng-container>
      </section>

      <!-- Secci√≥n derecha -->
      <section class="navbar-right" aria-label="Controles de usuario">
        <button (click)="toggleDarkMode()"
                class="dark-mode-toggle"
                aria-label="Alternar modo oscuro/claro">
          {{ isDarkMode ? '‚òÄÔ∏è' : 'üåô' }}
        </button>

        <button (click)="logout()"
                class="logout-btn"
                aria-label="Cerrar sesi√≥n"
                title="Cerrar sesi√≥n">
          <svg xmlns="http://www.w3.org/2000/svg"
               fill="none"
               viewBox="0 0 24 24"
               stroke="currentColor"
               stroke-width="2"
               class="logout-icon"
               role="img"
               aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1" />
          </svg>
        </button>
      </section>

    </nav>

  </ng-container>
</ng-container>
